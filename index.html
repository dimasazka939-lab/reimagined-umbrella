<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YUZI Store RGB Pro</title>

<style>
@keyframes rgb{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
@keyframes pulse{
  0%{box-shadow:0 0 10px #22c55e}
  50%{box-shadow:0 0 35px #a855f7}
  100%{box-shadow:0 0 10px #22c55e}
}

body{
  margin:0;
  font-family:Arial;
  background:#020617;
  color:#fff;
}

.container{
  max-width:420px;
  margin:auto;
  padding:20px;
}

h1,h3{
  text-align:center;
  background:linear-gradient(90deg,#22c55e,#3b82f6,#a855f7,#ec4899);
  background-size:400% 400%;
  animation:rgb 6s infinite;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.card{
  position:relative;
  background:rgba(2,6,23,.65);
  backdrop-filter:blur(12px);
  padding:15px;
  border-radius:16px;
  margin-bottom:16px;
  overflow:hidden;
}

.card::before{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius:18px;
  background:linear-gradient(90deg,
    #22c55e,#3b82f6,#a855f7,#ec4899,#22c55e);
  background-size:400% 400%;
  animation:rgb 8s linear infinite;
  z-index:-1;
}

input,select,button{
  width:100%;
  padding:11px;
  margin-top:8px;
  border-radius:10px;
  border:none;
  background:#020617;
  color:#fff;
}

select option{background:#020617}

button{
  background:linear-gradient(90deg,#22c55e,#3b82f6,#a855f7);
  background-size:300% 300%;
  animation:rgb 5s infinite;
  font-weight:bold;
  cursor:pointer;
}

button:hover{
  animation:pulse .8s infinite;
  transform:scale(1.03);
}

button.red{
  background:linear-gradient(90deg,#ef4444,#f97316);
}

.hidden{display:none}

.game-card{
  padding:12px;
  border-radius:12px;
  background:rgba(2,6,23,.7);
  box-shadow:0 0 20px rgba(59,130,246,.4);
}

small{color:#9ca3af}
</style>
</head>

<body>
<div class="container">

<h1>YUZI STORE</h1>
<button onclick="toggleRGB()" id="rgbBtn">üåà RGB: ON</button>

<!-- LOGIN -->
<div class="card" id="loginBox">
  <input id="password" type="password" placeholder="Password Admin">
  <button onclick="login()">LOGIN ADMIN</button>
</div>

<!-- ADMIN PANEL -->
<div id="adminBox" class="hidden">

<div class="card">
<h3>‚öôÔ∏è ADMIN PANEL</h3>
<select id="game"></select>
<input id="nominal" placeholder="Nominal">
<input id="harga" type="number" placeholder="Harga">
<button onclick="save()">SIMPAN / UPDATE</button>
<button class="red" onclick="hapus()">HAPUS</button>
</div>

<div class="card">
<h3>üí∞ Margin Keuntungan (%)</h3>
<input id="margin" type="number" placeholder="Contoh 10">
<button onclick="setMargin()">SIMPAN</button>
</div>

<div class="card">
<h3>üîê Ganti Password Admin</h3>
<input id="newPass" placeholder="Password Baru">
<button onclick="changePass()">GANTI</button>
</div>

<button class="red" onclick="logout()">LOGOUT</button>
</div>

<!-- USER PANEL -->
<div class="card">
<h3>üõí TOP UP GAME</h3>
<select id="userGame"></select>
<input id="searchNominal" placeholder="Cari nominal...">
<select id="userNominal"></select>
<div id="priceBox"></div>
<button onclick="order()">ORDER</button>
</div>

<div class="card">
<h3>üí≥ PEMBAYARAN</h3>
<ul>
<li>QRIS (All Payment)</li>
<li>DANA / OVO</li>
</ul>
</div>

</div>

<script>
// ================= CONFIG =================
let rgbOn = true;
const clickSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-game-click-1114.mp3");
const ADMIN_PASS = localStorage.getItem("ADMIN_PASS") || "yuzi123";

// ================= DATA GAME =================
const defaultData={
 "Free Fire":{"70 Diamond":10000,"140 Diamond":20000,"355 Diamond":50000},
 "Mobile Legends":{"86 Diamond":20000,"172 Diamond":38000,"257 Diamond":56000},
 "PUBG Mobile":{"60 UC":15000,"180 UC":45000,"600 UC":135000},
 "Genshin Impact":{"60 Genesis":12000,"300 Genesis":59000,"980 Genesis":179000},
 "Valorant":{"125 VP":15000,"420 VP":50000},
 "Roblox":{"400 Robux":75000,"800 Robux":150000},
 "Steam Wallet":{"IDR 50000":50000,"IDR 100000":100000},
 "Google Play":{"IDR 50000":50000,"IDR 100000":100000},
 "Higgs Domino":{"1B Chip":60000,"2B Chip":120000}
};

let data = JSON.parse(localStorage.getItem("YUZI_DATA")) || defaultData;

// ================= ADMIN =================
function login(){
  if(password.value===ADMIN_PASS){
    loginBox.style.display="none";
    adminBox.classList.remove("hidden");
    initAdmin();
  } else alert("Password salah!");
}
function logout(){location.reload()}

function initAdmin(){
  game.innerHTML="";
  Object.keys(data).forEach(g=>{
    let o=document.createElement("option");
    o.textContent=g;
    game.appendChild(o);
  });
}

function save(){
  if(!data[game.value])data[game.value]={};
  data[game.value][nominal.value]=Number(harga.value);
  localStorage.setItem("YUZI_DATA",JSON.stringify(data));
  alert("Disimpan!");
  initUser();
}
function hapus(){
  delete data[game.value][nominal.value];
  localStorage.setItem("YUZI_DATA",JSON.stringify(data));
  alert("Dihapus!");
  initUser();
}
function changePass(){
  localStorage.setItem("ADMIN_PASS",newPass.value);
  alert("Password diganti!");
}
function setMargin(){
  localStorage.setItem("MARGIN",margin.value);
  alert("Margin disimpan!");
}

// ================= USER =================
const userGame=document.getElementById("userGame");
const userNominal=document.getElementById("userNominal");
const priceBox=document.getElementById("priceBox");

function getFinalPrice(base){
  const m=Number(localStorage.getItem("MARGIN"))||0;
  return Math.round(base+(base*m/100));
}

function initUser(){
  userGame.innerHTML="";
  Object.keys(data).forEach(g=>{
    let o=document.createElement("option");
    o.textContent=g;
    userGame.appendChild(o);
  });
  loadNominal();
}

function loadNominal(){
  userNominal.innerHTML="";
  let items=Object.entries(data[userGame.value])
    .filter(i=>i[0].toLowerCase().includes(searchNominal.value.toLowerCase()))
    .map(([n,h])=>({n,h,f:getFinalPrice(h)}))
    .sort((a,b)=>a.f-b.f);

  const cheapest=items[0]?.f;
  items.forEach((i,idx)=>{
    let label=i.f===cheapest?"üî• TERMURAH":idx===1?"‚≠ê BEST":"";
    let o=document.createElement("option");
    o.value=i.n;
    o.textContent=`${i.n} - Rp ${i.f.toLocaleString()} ${label}`;
    userNominal.appendChild(o);
  });
  showPrice();
}

function showPrice(){
  const base=data[userGame.value][userNominal.value];
  const final=getFinalPrice(base);
  priceBox.innerHTML=
  `<div class="game-card">
    <b>${userNominal.value}</b><br>
    <small>Harga Bayar: Rp ${final.toLocaleString()}</small>
  </div>`;
}

function order(){
  priceBox.innerHTML="<b>‚è≥ Memproses pesanan...</b>";
  setTimeout(()=>{
    priceBox.innerHTML+="<br>‚úÖ Pesanan berhasil!";
  },1500);
}

// ================= RGB & SOUND =================
function toggleRGB(){
  rgbOn=!rgbOn;
  document.body.style.filter=rgbOn?"":"grayscale(1)";
  rgbBtn.innerText=rgbOn?"üåà RGB: ON":"üåë RGB: OFF";
}

document.querySelectorAll("button").forEach(b=>{
  b.addEventListener("click",()=>{
    clickSound.currentTime=0;
    clickSound.play();
  });
});

userGame.onchange=loadNominal;
userNominal.onchange=showPrice;
searchNominal.oninput=loadNominal;

initUser();
</script>

</body>
</html>